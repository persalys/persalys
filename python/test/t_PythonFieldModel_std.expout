     [ z         ]
 0 : [ 100       ]
 1 : [ 130.66    ]
 2 : [ 153.849   ]
 3 : [ 170.494   ]
 4 : [ 181.409   ]
 5 : [ 187.303   ]
 6 : [ 188.8     ]
 7 : [ 186.447   ]
 8 : [ 180.721   ]
 9 : [ 172.042   ]
10 : [ 160.774   ]
11 : [ 147.241   ]
12 : [ 131.723   ]
13 : [ 114.466   ]
14 : [  95.6873  ]
15 : [  75.5746  ]
16 : [  54.294   ]
17 : [  31.9903  ]
18 : [   8.79064 ]
19 : [   0       ]
[field 0:
     [ t          z          ]
 0 : [   0        100        ]
 1 : [   0.631579 130.66     ]
 2 : [   1.26316  153.849    ]
 3 : [   1.89474  170.494    ]
 4 : [   2.52632  181.409    ]
 5 : [   3.15789  187.303    ]
 6 : [   3.78947  188.8      ]
 7 : [   4.42105  186.447    ]
 8 : [   5.05263  180.721    ]
 9 : [   5.68421  172.042    ]
10 : [   6.31579  160.774    ]
11 : [   6.94737  147.241    ]
12 : [   7.57895  131.723    ]
13 : [   8.21053  114.466    ]
14 : [   8.84211   95.6873   ]
15 : [   9.47368   75.5746   ]
16 : [  10.1053    54.294    ]
17 : [  10.7368    31.9903   ]
18 : [  11.3684     8.79064  ]
19 : [  12          0        ]
field 1:
     [ t          z          ]
 0 : [   0        100        ]
 1 : [   0.631579 130.541    ]
 2 : [   1.26316  153.432    ]
 3 : [   1.89474  169.675    ]
 4 : [   2.52632  180.139    ]
 5 : [   3.15789  185.583    ]
 6 : [   3.78947  186.663    ]
 7 : [   4.42105  183.95     ]
 8 : [   5.05263  177.942    ]
 9 : [   5.68421  169.069    ]
10 : [   6.31579  157.707    ]
11 : [   6.94737  144.183    ]
12 : [   7.57895  128.778    ]
13 : [   8.21053  111.74     ]
14 : [   8.84211   93.2814   ]
15 : [   9.47368   73.5893   ]
16 : [  10.1053    52.8248   ]
17 : [  10.7368    31.1285   ]
18 : [  11.3684     8.6223   ]
19 : [  12          0        ]]
ZeroDivisionError occured: True
Error on the line 4 : True
ZeroDivisionError occured: True
Error on the line 4 : True
InvalidArgumentException occured: True
InvalidArgumentException occured: True
InvalidArgumentException occured: True
InvalidArgumentException occured: True
     [ z         z1        ]
 0 : [ 100       100       ]
 1 : [ 130.66    130.66    ]
 2 : [ 153.849   153.849   ]
 3 : [ 170.494   170.494   ]
 4 : [ 181.409   181.409   ]
 5 : [ 187.303   187.303   ]
 6 : [ 188.8     188.8     ]
 7 : [ 186.447   186.447   ]
 8 : [ 180.721   180.721   ]
 9 : [ 172.042   172.042   ]
10 : [ 160.774   160.774   ]
11 : [ 147.241   147.241   ]
12 : [ 131.723   131.723   ]
13 : [ 114.466   114.466   ]
14 : [  95.6873   95.6873  ]
15 : [  75.5746   75.5746  ]
16 : [  54.294    54.294   ]
17 : [  31.9903   31.9903  ]
18 : [   8.79064   8.79064 ]
19 : [   0         0       ]
[field 0:
     [ t          z          z1         ]
 0 : [   0        100        100        ]
 1 : [   0.631579 130.66     130.66     ]
 2 : [   1.26316  153.849    153.849    ]
 3 : [   1.89474  170.494    170.494    ]
 4 : [   2.52632  181.409    181.409    ]
 5 : [   3.15789  187.303    187.303    ]
 6 : [   3.78947  188.8      188.8      ]
 7 : [   4.42105  186.447    186.447    ]
 8 : [   5.05263  180.721    180.721    ]
 9 : [   5.68421  172.042    172.042    ]
10 : [   6.31579  160.774    160.774    ]
11 : [   6.94737  147.241    147.241    ]
12 : [   7.57895  131.723    131.723    ]
13 : [   8.21053  114.466    114.466    ]
14 : [   8.84211   95.6873    95.6873   ]
15 : [   9.47368   75.5746    75.5746   ]
16 : [  10.1053    54.294     54.294    ]
17 : [  10.7368    31.9903    31.9903   ]
18 : [  11.3684     8.79064    8.79064  ]
19 : [  12          0          0        ]
field 1:
     [ t          z          z1         ]
 0 : [   0        100        100        ]
 1 : [   0.631579 130.541    130.541    ]
 2 : [   1.26316  153.432    153.432    ]
 3 : [   1.89474  169.675    169.675    ]
 4 : [   2.52632  180.139    180.139    ]
 5 : [   3.15789  185.583    185.583    ]
 6 : [   3.78947  186.663    186.663    ]
 7 : [   4.42105  183.95     183.95     ]
 8 : [   5.05263  177.942    177.942    ]
 9 : [   5.68421  169.069    169.069    ]
10 : [   6.31579  157.707    157.707    ]
11 : [   6.94737  144.183    144.183    ]
12 : [   7.57895  128.778    128.778    ]
13 : [   8.21053  111.74     111.74     ]
14 : [   8.84211   93.2814    93.2814   ]
15 : [   9.47368   73.5893    73.5893   ]
16 : [  10.1053    52.8248    52.8248   ]
17 : [  10.7368    31.1285    31.1285   ]
18 : [  11.3684     8.6223     8.6223   ]
19 : [  12          0          0        ]]
     [ z         z1        ]
 0 : [ 100       100       ]
 1 : [ 130.66    130.66    ]
 2 : [ 153.849   153.849   ]
 3 : [ 170.494   170.494   ]
 4 : [ 181.409   181.409   ]
 5 : [ 187.303   187.303   ]
 6 : [ 188.8     188.8     ]
 7 : [ 186.447   186.447   ]
 8 : [ 180.721   180.721   ]
 9 : [ 172.042   172.042   ]
10 : [ 160.774   160.774   ]
11 : [ 147.241   147.241   ]
12 : [ 131.723   131.723   ]
13 : [ 114.466   114.466   ]
14 : [  95.6873   95.6873  ]
15 : [  75.5746   75.5746  ]
16 : [  54.294    54.294   ]
17 : [  31.9903   31.9903  ]
18 : [   8.79064   8.79064 ]
19 : [   0         0       ]
[field 0:
     [ t          z          z1         ]
 0 : [   0        100        100        ]
 1 : [   0.631579 130.66     130.66     ]
 2 : [   1.26316  153.849    153.849    ]
 3 : [   1.89474  170.494    170.494    ]
 4 : [   2.52632  181.409    181.409    ]
 5 : [   3.15789  187.303    187.303    ]
 6 : [   3.78947  188.8      188.8      ]
 7 : [   4.42105  186.447    186.447    ]
 8 : [   5.05263  180.721    180.721    ]
 9 : [   5.68421  172.042    172.042    ]
10 : [   6.31579  160.774    160.774    ]
11 : [   6.94737  147.241    147.241    ]
12 : [   7.57895  131.723    131.723    ]
13 : [   8.21053  114.466    114.466    ]
14 : [   8.84211   95.6873    95.6873   ]
15 : [   9.47368   75.5746    75.5746   ]
16 : [  10.1053    54.294     54.294    ]
17 : [  10.7368    31.9903    31.9903   ]
18 : [  11.3684     8.79064    8.79064  ]
19 : [  12          0          0        ]]
#!/usr/bin/env python

import openturns as ot
import persalys

Study_0 = persalys.Study('Study_0')
persalys.Study.Add(Study_0)
t = persalys.Variable('t', 0, '')
meshModel = persalys.GridMeshModel([t], ot.Interval([0], [12]), [20])
z0 = persalys.Input('z0', 100, '')
v0 = persalys.Input('v0', 55, '')
m = persalys.Input('m', 80, '')
c = persalys.Input('c', 15, '')
z = persalys.Output('z', '')
z1 = persalys.Output('z1', '')
inputs = [z0, v0, m, c]
outputs = [z, z1]
code = 'from math import exp\n\ndef _exec(z0,v0,m,c):\n    g = 9.81\n    zmin = 0.\n    tau = m / c\n    vinf = -m * g / c\n\n    # mesh nodes\n    t = getMesh().getVertices()\n\n    z = [max(z0 + vinf * t_i[0] + tau * (v0 - vinf) * (1 - exp(-t_i[0] / tau)), zmin) for t_i in t]\n    z1 = [2.]\n    return z, z1'
model = persalys.PythonFieldModel('model',meshModel, inputs, outputs, code)
model.setParallel(True)
Study_0.add(model)
t = persalys.Variable('t', 0, '')
meshModel = persalys.GridMeshModel([t], ot.Interval([0], [12]), [20])
z0 = persalys.Input('z0', 100, '')
v0 = persalys.Input('v0', 55, '')
m = persalys.Input('m', 80, '')
c = persalys.Input('c', 15, '')
z = persalys.Output('z', '')
z1 = persalys.Output('z1', '')
inputs = [z0, v0, m, c]
outputs = [z, z1]
code = 'from math import exp\n\ndef _exec(z0,v0,m,c):\n    g = 9.81\n    zmin = 0.\n    tau = m / c\n    vinf = -m * g / c\n\n    # mesh nodes\n    t = getMesh().getVertices()\n\n    z = [max(z0 + vinf * t_i[0] + tau * (v0 - vinf) * (1 - exp(-t_i[0] / tau)), zmin) for t_i in t]\n    z1 = z[:]\n    return z, z1'
model2 = persalys.PythonFieldModel('model2',meshModel, inputs, outputs, code)
model2.setParallel(True)
Study_0.add(model2)

